[{"content":"1. Install mailutils\rSSH into proxmox node and become root user. Run the following commands to download extra software dependencies we\u0026rsquo;ll need.\napt update apt install -y libsasl2-modules mailutils 2. Enable 2FA for the gmail account.\rThis is the account that will be used by proxmox to send emails. Go to security settings\n3. Create app password for the account.\rGo to App Passwords Select app: Mail Select device: Other Type in: Proxmox or whatever you want here 4. Setup gmail credentials\rWrite gmail credentials to file and hash it. Again, make sure you are root.\necho \u0026#34;smtp.gmail.com youremail@gmail.com:yourpassword\u0026#34; \u0026gt; /etc/postfix/sasl_passwd # chmod u=rw chmod 600 /etc/postfix/sasl_passwd # generate /etc/postfix/sasl_passwd.db postmap hash:/etc/postfix/sasl_passwd 5. Proxmox config\rOpen the Postfix configuration file with editor of your choice.\nnano /etc/postfix/main.cf 6. Edit main.cf\rAppend the following to the end of the file:\nrelayhost = smtp.gmail.com:587 smtp_use_tls = yes smtp_sasl_auth_enable = yes smtp_sasl_security_options = smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd smtp_tls_CAfile = /etc/ssl/certs/Entrust_Root_Certification_Authority.pem smtp_tls_session_cache_database = btree:/var/lib/postfix/smtp_tls_session_cache smtp_tls_session_cache_timeout = 3600s IMPORTANT: Comment out the existing line containing just relayhost= since we are using this key in our configuration we just pasted in.\n7. Reload postfix\r```bash postfix reload ``` 8. Test it worked\rTest to make sure everything is working with:\necho \u0026#34;sample message\u0026#34; | mail -s \u0026#34;sample subject\u0026#34; anotheremail@gmail.com Credit: tomdaley92 \u0026ndash;\u0026gt; original source\n","date":"2024-06-04T13:09:00+10:00","image":"https://lennon101.github.io/p/proxmox-email-alerts-setup/cover_hu_b76bd0ea183ff55f.png","permalink":"https://lennon101.github.io/p/proxmox-email-alerts-setup/","title":"Proxmox Email Alerts Setup"},{"content":"Threat\rI\u0026rsquo;m on a synology sub-reddit page and I see posts like this every couple of months and it terrifies me:\nThis is an example of Ransomware. Ransomware is a type of malicious software designed to block access to a computer system or files until a sum of money, or \u0026ldquo;ransom,\u0026rdquo; is paid. It typically works by encrypting the victim\u0026rsquo;s files or locking them behind a password, rendering them inaccessible. Once the ransomware is activated, the victim is presented with instructions on how to pay the ransom, often in cryptocurrency, in exchange for a decryption key or password. Ransomware attacks can be devastating for individuals and organizations, causing data loss, financial harm, and disrupting normal operations. Cybersecurity experts recommend regularly backing up data, maintaining updated software, and exercising caution when clicking on links or downloading files to prevent falling victim to ransomware attacks.\nMitigation\rSo, in case you havn\u0026rsquo;t already, here\u0026rsquo;s a list I\u0026rsquo;ve put together that I highly recommend you follow ASAP:\nSecure your network :Expand for more detail Disable/deactivate the default admin account. Create a second admin account but don\u0026rsquo;t use a username that references it\u0026rsquo;s admin status eg admin-user or admin-acct Make sure you use a User account when accessing your nas. Do not use your new admin account for any other use except admin tasks. Enable 2FA. Use very secure passwords: Never use the same password twice! Use tools like 1Password or Keeper to generate unique passwords and store them safely Instead of Synology QuickConnect or QNAP\u0026rsquo;s EasyConnect use a VPN or Tailscale. Enable the NAS firewall. Force 2FA for all other NAS users. Check every password requirement. Set login attempt timeouts to something like 2-3 failed logins = suspend for 4 hours or something. Don’t reuse passwords. Consider using AWS Glacier backups (or review which cold storage solution is best for you). It’s painfully slow but really cheap. test\rEnable and make use of the firewall on your router. Port-forward the bare minimum on your router. Make use of reverse proxies through port 443 etc if needed. ","date":"2024-05-14T10:39:36+10:00","image":"https://lennon101.github.io/p/securing-your-nas-against-ransomware/attack_hu_c0887da76d8bb4d2.png","permalink":"https://lennon101.github.io/p/securing-your-nas-against-ransomware/","title":"Securing Your Nas Against Ransomware"},{"content":"What happened\rThe Search menu on my Windows 10 suddenly stopped working. When I clicked the Search icon or type something in the Start menu, it just shows a blank search window. The fix\rRight click on the windows key and tap Run Open the Registery Editor by typing regedit and tapping ok Navigate to:\nHKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Search Right-click the Search icon and choose New \u0026gt; DWORD (32-bit) Value. Name the new value: BingSearchEnabled Double-click the new BingSearchEnabled value to open its properties dialog. The number in the “Value data” box should already be 0. Just ensure it’s still 0. Click OK to continue. Below BingSearchEnabled, you should see CortanaConsent. Double-click this value to open its properties dialog. Change its “Value Data” box to “0” aswell.\nNote Well: If you don’t see CortanaConsent, create it by following the same steps you used to create BingSearchEnabled.\nRestart Explorer.Exe by opening the TaskManager, right clicking on Windows Explorer, and tapping restart. The Windows Search Bar should now return to a working state ","date":"2024-05-08T11:05:00+10:00","permalink":"https://lennon101.github.io/p/windows-10-search-bar-not-loading/","title":"Windows 10 Search Bar Not Loading"},{"content":"1.0 Introduction\rThis is a short blog post containing a step-by-step guide to convert the Tuya Zigbee Valve battery power supply to a DC/Mains power supply. This upgrade means you no longer need to worry about batteries draining as the device will have a continuous power source for your smart irrigation system. In this guide, I\u0026rsquo;ll walk you through the process, step-by-step.\nTuya Zigbee Smart Watering Timer Smart Sprinkler Drip Irrigation System Built-in Water Flow Recorder Water Controller\n2.0 Why Upgrade to Regulated Power Supply?\rThis was in response to the batteries of these devices draining very quickly and requiring frequent replacements. Upgrading to a regulated power supply ensures a stable and continuous power source, reducing the need for constant maintenance and enhancing the overall reliability of your Zigbee irrigation system.\n3.0 Calculating Power Requirements\rBefore diving into the conversion process, it\u0026rsquo;s essential to have a basic understanding of how Zigbee irrigation valves work and the power requirements associated with them. Each device is powered by 4x AA batteries in series. Each AA battery is 1.5V at 100%, therefore, the total voltage needed for this device is:\ntotal voltage = 4 x 1.5V Therefore:\ntotal voltage = 6v 3.1 Current (amps) requirement:\rA typical AA battery has a peak current of over 2A. But I know (just from my own experience) that these zigbee devices won\u0026rsquo;t be drawing that much. So lets say approx 1amp max current during peak demands (and that is being very generous).\n4.0 Materials Needed\rAn AC to DC power supply with atleast 6v and 1amp output. Most power supplies are either 5V or 12V. A 5v supply will be sufficient but if you have a 12v supply, you will need a voltage regulator shown in step 2 below. A typical looking power supply is pictured below A linear regulator - only needed if you your power supply has an output greater than 6v. A good example is the LM317 Adjustable Voltage Regulator Power Supply (see image below). Just go to AliExpress and search LM317 Breakout Board. An example is shown below. A small plastic container to store the linear regulator in (if you need one).\nA multimetre to check the voltage\n5.0 Step-by-Step Process\r5.1 Wiring diagram\rShown below is the wiring diagram for the modified and regulated power supply. If you are using a regulator to change the voltage, you will need to tune the regulator output to the required 6v needed for this unit. Use a multimeter to do so.\n5.2 Disassembling the device\rBegin the conversion process by carefully disassembling the Zigbee irrigation valve. Take note of the existing components and their placements. 5.3 Cut the Power and GND wires\rCut the power and gnd wires and solder longer wires so there is enoug length to poke through a hole in the 5.4 Modifying the device\rModify the device to accommodate the regulated power supply or store the power supply in it\u0026rsquo;s own plastic container. This step may involve rewiring and integrating the new power source seamlessly.\n5.5 Assembling the System\rPut everything back together, ensuring all components are properly connected. I found that the best way to do this was using a drill to cut a small hole in the side of the plastic housing and poking the new power supply wires through the housing that way. You can use hot glue or silicon to make the housing waterproof again :) ","date":"2024-05-07T16:05:21+10:00","image":"https://lennon101.github.io/p/tuya-zigbee-valve-power-supply-conversion-a-step-by-step-guide/tuya-zigbee-valve-controller_hu_8af0ee5e9d2aa8e3.png","permalink":"https://lennon101.github.io/p/tuya-zigbee-valve-power-supply-conversion-a-step-by-step-guide/","title":"Tuya Zigbee Valve Power Supply Conversion: A Step-by-Step Guide"}]