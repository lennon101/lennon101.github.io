<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>How-To on The Lennons Wiki</title>
        <link>https://lennon101.github.io/tags/how-to/</link>
        <description>Recent content in How-To on The Lennons Wiki</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Tue, 04 Jun 2024 13:09:00 +1000</lastBuildDate><atom:link href="https://lennon101.github.io/tags/how-to/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Proxmox Email Alerts Setup</title>
        <link>https://lennon101.github.io/p/proxmox-email-alerts-setup/</link>
        <pubDate>Tue, 04 Jun 2024 13:09:00 +1000</pubDate>
        
        <guid>https://lennon101.github.io/p/proxmox-email-alerts-setup/</guid>
        <description>&lt;img src="https://lennon101.github.io/p/proxmox-email-alerts-setup/cover.png" alt="Featured image of post Proxmox Email Alerts Setup" /&gt;&lt;h2 id=&#34;1-install-mailutils&#34;&gt;1. Install mailutils
&lt;/h2&gt;&lt;p&gt;SSH into proxmox node and become root user. Run the following commands to download extra software dependencies we&amp;rsquo;ll need.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;apt update
apt install -y libsasl2-modules mailutils
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;2-enable-2fa-for-the-gmail-account&#34;&gt;2. Enable 2FA for the gmail account.
&lt;/h2&gt;&lt;p&gt;This is the account that will be used by proxmox to send emails. Go to &lt;a class=&#34;link&#34; href=&#34;https://myaccount.google.com/security&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;security settings&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;3-create-app-password-for-the-account&#34;&gt;3. Create app password for the account.
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;Go to &lt;a class=&#34;link&#34; href=&#34;https://security.google.com/settings/security/apppasswords&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;App Passwords&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Select app: &lt;code&gt;Mail&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Select device: &lt;code&gt;Other&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Type in: &lt;code&gt;Proxmox&lt;/code&gt; or whatever you want here&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-setup-gmail-credentials&#34;&gt;4. Setup gmail credentials
&lt;/h2&gt;&lt;p&gt;Write gmail credentials to file and hash it. Again, make sure you are root.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;echo &amp;#34;smtp.gmail.com youremail@gmail.com:yourpassword&amp;#34; &amp;gt; /etc/postfix/sasl_passwd

# chmod u=rw
chmod 600 /etc/postfix/sasl_passwd

# generate /etc/postfix/sasl_passwd.db
postmap hash:/etc/postfix/sasl_passwd
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;5-proxmox-config&#34;&gt;5. Proxmox config
&lt;/h2&gt;&lt;p&gt;Open the Postfix configuration file with editor of your choice.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;nano /etc/postfix/main.cf
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;6-edit-maincf&#34;&gt;6. Edit main.cf
&lt;/h2&gt;&lt;p&gt;Append the following to the end of the file:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;relayhost = smtp.gmail.com:587
smtp_use_tls = yes
smtp_sasl_auth_enable = yes
smtp_sasl_security_options =
smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd
smtp_tls_CAfile = /etc/ssl/certs/Entrust_Root_Certification_Authority.pem
smtp_tls_session_cache_database = btree:/var/lib/postfix/smtp_tls_session_cache
smtp_tls_session_cache_timeout = 3600s
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;strong&gt;IMPORTANT&lt;/strong&gt;: Comment out the existing line containing just &lt;code&gt;relayhost=&lt;/code&gt; since we are using this key in our configuration we just pasted in.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/proxmox-email-alerts-setup/relayhost.png&#34; width=&#34;1000&#34;&gt;
&lt;/figure&gt;

&lt;h2 id=&#34;7-reload-postfix&#34;&gt;7. Reload postfix
&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;```bash
postfix reload
```
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;8-test-it-worked&#34;&gt;8. Test it worked
&lt;/h2&gt;&lt;p&gt;Test to make sure everything is working with:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;echo &amp;#34;sample message&amp;#34; | mail -s &amp;#34;sample subject&amp;#34; anotheremail@gmail.com
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Credit: &lt;a class=&#34;link&#34; href=&#34;https://gist.github.com/tomdaley92&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;tomdaley92&lt;/a&gt; &amp;ndash;&amp;gt; &lt;a class=&#34;link&#34; href=&#34;https://gist.github.com/tomdaley92/9315b9326d4589c9652ce0307c9c38a3&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;original source&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Securing Your Nas Against Ransomware</title>
        <link>https://lennon101.github.io/p/securing-your-nas-against-ransomware/</link>
        <pubDate>Tue, 14 May 2024 10:39:36 +1000</pubDate>
        
        <guid>https://lennon101.github.io/p/securing-your-nas-against-ransomware/</guid>
        <description>&lt;img src="https://lennon101.github.io/p/securing-your-nas-against-ransomware/attack.png" alt="Featured image of post Securing Your Nas Against Ransomware" /&gt;&lt;h2 id=&#34;threat&#34;&gt;Threat
&lt;/h2&gt;&lt;p&gt;I&amp;rsquo;m on a &lt;a class=&#34;link&#34; href=&#34;https://www.reddit.com/r/synology/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;synology sub-reddit&lt;/a&gt; page and I see posts like this every couple of months and it terrifies me:&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/securing-your-nas-against-ransomware/attack.png&#34; width=&#34;1000&#34;&gt;
&lt;/figure&gt;

&lt;p&gt;This is an example of Ransomware.
Ransomware is a type of malicious software designed to block access to a computer system or files until a sum of money, or &amp;ldquo;ransom,&amp;rdquo; is paid. It typically works by encrypting the victim&amp;rsquo;s files or locking them behind a password, rendering them inaccessible. Once the ransomware is activated, the victim is presented with instructions on how to pay the ransom, often in cryptocurrency, in exchange for a decryption key or password. Ransomware attacks can be devastating for individuals and organizations, causing data loss, financial harm, and disrupting normal operations. Cybersecurity experts recommend regularly backing up data, maintaining updated software, and exercising caution when clicking on links or downloading files to prevent falling victim to ransomware attacks.&lt;/p&gt;
&lt;h2 id=&#34;mitigation&#34;&gt;Mitigation
&lt;/h2&gt;&lt;p&gt;So, in case you havn&amp;rsquo;t already, here&amp;rsquo;s a list I&amp;rsquo;ve put together that I &lt;strong&gt;highly&lt;/strong&gt; recommend you follow ASAP:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Secure your network &lt;a class=&#34;link&#34; href=&#34;http://localhost:1313/posts/securing-your-nas/#test&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;:Expand for more detail&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Disable/deactivate the default admin account.
&lt;ul&gt;
&lt;li&gt;Create a second admin account but don&amp;rsquo;t use a username that references it&amp;rsquo;s admin status eg &lt;code&gt;admin-user&lt;/code&gt; or &lt;code&gt;admin-acct&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Make sure you use a User account when accessing your nas.
&lt;ul&gt;
&lt;li&gt;Do not use your new admin account for any other use except admin tasks.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Enable 2FA.&lt;/li&gt;
&lt;li&gt;Use very secure passwords:
&lt;ul&gt;
&lt;li&gt;Never use the same password twice!&lt;/li&gt;
&lt;li&gt;Use tools like &lt;a class=&#34;link&#34; href=&#34;https://1password.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;1Password&lt;/a&gt; or &lt;a class=&#34;link&#34; href=&#34;https://www.keepersecurity.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Keeper&lt;/a&gt; to generate unique passwords and store them safely&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Instead of &lt;a class=&#34;link&#34; href=&#34;https://quickconnect.to/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Synology QuickConnect&lt;/a&gt; or QNAP&amp;rsquo;s &lt;a class=&#34;link&#34; href=&#34;https://www.qnap.com/en-au/software/myqnapcloud&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;EasyConnect&lt;/a&gt; use a VPN or &lt;a class=&#34;link&#34; href=&#34;https://tailscale.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Tailscale&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Enable the NAS firewall.&lt;/li&gt;
&lt;li&gt;Force 2FA for all other NAS users.&lt;/li&gt;
&lt;li&gt;Check every password requirement.&lt;/li&gt;
&lt;li&gt;Set login attempt timeouts to something like 2-3 failed logins = suspend for 4 hours or something.&lt;/li&gt;
&lt;li&gt;Don’t reuse passwords.&lt;/li&gt;
&lt;li&gt;Consider using AWS Glacier backups (or review which cold storage solution is best for you). It’s painfully slow but really cheap.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;test&#34;&gt;test
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Enable and make use of the firewall on your router.&lt;/li&gt;
&lt;li&gt;Port-forward the bare minimum on your router. Make use of reverse proxies through port 443 etc if needed.&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Windows 10 Search Bar Not Loading</title>
        <link>https://lennon101.github.io/p/windows-10-search-bar-not-loading/</link>
        <pubDate>Wed, 08 May 2024 11:05:00 +1000</pubDate>
        
        <guid>https://lennon101.github.io/p/windows-10-search-bar-not-loading/</guid>
        <description>&lt;h2 id=&#34;what-happened&#34;&gt;What happened
&lt;/h2&gt;&lt;p&gt;The Search menu on my Windows 10 suddenly stopped working. When I clicked the Search icon or type something in the Start menu, it just shows a blank search window.
&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/windows-10-search-bar-not-loading/empty-search-bar.png&#34; width=&#34;500&#34;&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;the-fix&#34;&gt;The fix
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Right click on the windows key and tap &lt;strong&gt;Run&lt;/strong&gt;
&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/windows-10-search-bar-not-loading/open-run.png&#34; width=&#34;300&#34;&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open the Registery Editor by typing &lt;strong&gt;regedit&lt;/strong&gt; and tapping ok
&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/windows-10-search-bar-not-loading/open-regedit.png&#34; width=&#34;400&#34;&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Navigate to:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVersion\Search
&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/windows-10-search-bar-not-loading/search.png&#34; width=&#34;600&#34;&gt;
&lt;/figure&gt;

&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Right-click the Search icon and choose New &amp;gt; DWORD (32-bit) Value. Name the new value:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;BingSearchEnabled
&lt;/code&gt;&lt;/pre&gt;&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/windows-10-search-bar-not-loading/bing-enabled.png&#34; width=&#34;600&#34;&gt;
&lt;/figure&gt;

&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;
&lt;p&gt;Double-click the new BingSearchEnabled value to open its properties dialog. The number in the “Value data” box should already be 0. Just ensure it’s still 0. Click OK to continue.
&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/windows-10-search-bar-not-loading/edit-word.png&#34; width=&#34;600&#34;&gt;
&lt;/figure&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Below &lt;code&gt;BingSearchEnabled&lt;/code&gt;, you should see &lt;code&gt;CortanaConsent&lt;/code&gt;. Double-click this value to open its properties dialog. Change its “Value Data” box to “0” aswell.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Note Well:&lt;/strong&gt;
If you don’t see &lt;code&gt;CortanaConsent&lt;/code&gt;, create it by following the same steps you used to create &lt;code&gt;BingSearchEnabled&lt;/code&gt;.&lt;/p&gt;
&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/windows-10-search-bar-not-loading/cortana-consent.png&#34; width=&#34;600&#34;&gt;
&lt;/figure&gt;

&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;Restart &lt;code&gt;Explorer.Exe&lt;/code&gt; by opening the &lt;code&gt;TaskManager&lt;/code&gt;, right clicking on Windows Explorer, and tapping restart. The Windows Search Bar should now return to a working state&lt;/li&gt;
&lt;/ol&gt;
&lt;figure&gt;&lt;img src=&#34;https://lennon101.github.io/p/windows-10-search-bar-not-loading/restart-explorer.png&#34; width=&#34;1000&#34;&gt;
&lt;/figure&gt;

</description>
        </item>
        
    </channel>
</rss>
